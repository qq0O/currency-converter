<!DOCTYPE html>

<html lang="hu">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<title>Valutaátváltó</title>
<style>
    body {
      font-family: sans-serif;
      background-color: #121933;
      color: white;
      text-align: center;
      margin: 0;
      padding: 20px;
    }

    h1 {
      font-size: 1.8em;
    }

    .input-row {
      display: flex;
      justify-content: center;
      align-items: center;
      margin: 10px auto;
      max-width: 90%;
    }

    input {
      font-size: 1.1em;
      padding: 10px;
      flex: 1;
      border: none;
      border-radius: 5px 0 0 5px;
    }

    .clear-button {
      display: flex;
      align-items: center;
      background-color: #3a3a3a;
      border: none;
      border-radius: 0 5px 5px 0;
      padding: 10px;
      cursor: pointer;
      color: white;
      font-size: 0.9em;
      height: 42px;
    }

    .clear-button:hover {
      background-color: #c0392b;
    }

    .clear-button svg {
      fill: red;
      width: 14px;
      height: 14px;
      margin-right: 5px;
    }

    button {
      margin: 10px;
      padding: 12px;
      font-size: 1.1em;
      background-color: #007bff;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      width: 90%;
      max-width: 400px;
    }

    button:hover {
      background-color: #0056b3;
    }

    .result {
      border: 2px solid #4285f4;
      padding: 15px;
      margin-top: 20px;
      font-size: 1.2em;
      font-weight: bold;
      max-width: 400px;
      margin-left: auto;
      margin-right: auto;
    }

    .lang-buttons {
      display: flex;
      justify-content: center;
      gap: 10px;
      margin-top: 20px;
      flex-wrap: wrap;
    }

    .lang-buttons button {
      background-color: #d3d3d3;
      color: black;
      width: auto;
      padding: 8px 12px;
      display: flex;
      align-items: center;
    }

    .lang-buttons img {
      width: 20px;
      margin-right: 5px;
    }

    footer {
      margin-top: 30px;
      font-size: 0.9em;
      color: #888;
    }
  </style>
</head>
<body>
<h1 id="title">Valutaátváltó</h1>
<div class="input-row">
<input id="rate" placeholder="Árfolyam (pl. 0.91)" type="text"/>
<button class="clear-button" onclick="clearInput('rate')">
<span id="clearRate">Törlés</span>
</button>
</div>
<div class="input-row">
<input id="amount" placeholder="Összeg (pl. 100)" type="text"/>
<button class="clear-button" onclick="clearInput('amount')">
<span id="clearAmount">Törlés</span>
</button>
</div>
<button id="btnToCHF" onclick="convertToCHF()">valuta = mennyi CHF</button>
<button id="btnFromCHF" onclick="convertFromCHF()">CHF = mennyi valuta</button>
<div class="result" id="result">Eredmény: –</div>
<div class="lang-buttons">
<button onclick="setLanguage('hu')">🇭🇺 HU</button>
<button onclick="setLanguage('en')">🇬🇧 EN</button>
<button onclick="setLanguage('de')">🇩🇪 DE</button>
<button onclick="setLanguage('it')">🇮🇹 IT</button>
</div>
<footer>Powered by – Flagello di Dio</footer>
<script>
    const translations = {
      hu: {
        title: "Valutaátváltó",
        placeholderRate: "Árfolyam (pl. 0.91)",
        placeholderAmount: "Összeg (pl. 100)",
        btn1: "valuta = mennyi CHF",
        btn2: "CHF = mennyi valuta",
        result: "Eredmény: ",
        clear: "Törlés"
      },
      en: {
        title: "Currency Converter",
        placeholderRate: "Rate (e.g. 0.91)",
        placeholderAmount: "Amount (e.g. 100)",
        btn1: "Currency = how much CHF",
        btn2: "CHF = how much currency",
        result: "Result: ",
        clear: "Clear"
      },
      de: {
        title: "Währungsrechner",
        placeholderRate: "Wechselkurs (z.B. 0.91)",
        placeholderAmount: "Betrag (z.B. 100)",
        btn1: "Währung = wie viel CHF",
        btn2: "CHF = wie viel Währung",
        result: "Ergebnis: ",
        clear: "Löschen"
      },
      it: {
        title: "Convertitore di Valuta",
        placeholderRate: "Tasso (es. 0.91)",
        placeholderAmount: "Importo (es. 100)",
        btn1: "Valuta = quanto CHF",
        btn2: "CHF = quanta valuta",
        result: "Risultato: ",
        clear: "Cancella"
      }
    };

    function setLanguage(lang) {
      const t = translations[lang];
      document.getElementById("title").innerText = t.title;
      document.getElementById("rate").placeholder = t.placeholderRate;
      document.getElementById("amount").placeholder = t.placeholderAmount;
      document.querySelectorAll("button")[2].innerText = t.btn1;
      document.querySelectorAll("button")[3].innerText = t.btn2;
      document.getElementById("result").innerText = t.result + "–";
      document.getElementById("clearRate").innerText = t.clear;
      document.getElementById("clearAmount").innerText = t.clear;
    }

    function convertToCHF() {
      const rate = parseFloat(document.getElementById("rate").value.replace(",", "."));
      const amount = parseFloat(document.getElementById("amount").value.replace(",", "."));
      if (!isNaN(rate) && !isNaN(amount)) {
        document.getElementById("result").innerText = translations[currentLang].result + (amount * rate).toFixed(2);
      }
    }

    function convertFromCHF() {
      const rate = parseFloat(document.getElementById("rate").value.replace(",", "."));
      const amount = parseFloat(document.getElementById("amount").value.replace(",", "."));
      if (!isNaN(rate) && !isNaN(amount) && rate !== 0) {
        document.getElementById("result").innerText = translations[currentLang].result + (amount / rate).toFixed(2);
      }
    }

    function clearInput(id) {
      document.getElementById(id).value = "";
    }

    let currentLang = "hu";
    window.onload = function() {
      const browserLang = navigator.language.slice(0, 2);
      if (["hu", "en", "de", "it"].includes(browserLang)) {
        currentLang = browserLang;
      }
      setLanguage(currentLang);
    }
  
    document.getElementById("amount").addEventListener("input", updateButtonLabels);

    function updateButtonLabels() {
      const value = document.getElementById("amount").value;
      const formatted = value ? value : "–";
      document.getElementById("btnToCHF").innerText = formatted + " " + translations[currentLang].btn1;
      document.getElementById("btnFromCHF").innerText = formatted + " CHF = " + translations[currentLang].btn2.split(" = ")[1];
    }

document.querySelectorAll('input[type="text"]').forEach(input => {
  input.addEventListener('input', () => {
    if (input.value.startsWith('.') && !input.value.startsWith('0.')) {
      input.value = '0' + input.value;
    }
  });
});

function updateLanguage(lang) {
  currentLang = lang;
  document.querySelector('h1').innerText = translations[lang].title;
  document.getElementById("rate").placeholder = translations[lang].placeholderRate;
  document.getElementById("amount").placeholder = translations[lang].placeholderAmount;
  document.getElementById("clearRate").innerText = translations[lang].clear;
  document.getElementById("clearAmount").innerText = translations[lang].clear;
  document.getElementById("btnToCHF").innerText = document.getElementById("amount").value + " " + translations[lang].btn1;
  document.getElementById("btnFromCHF").innerText = document.getElementById("amount").value + " CHF = " + translations[lang].btn2.split(" = ")[1];
  document.getElementById("result").innerText = translations[lang].result + ": –";
}
</script>
</body>
</html>